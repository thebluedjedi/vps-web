{% extends "base.html" %}

{% block title %}Temple of the Blue Djedi{% endblock %}

{% block fonts %}
    {{ super() }}
    <link href="https://fonts.googleapis.com/css2?family=Clarendon:wght@400;700&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative min-h-[60vh] flex items-center justify-center py-20 px-4">
    <div class="absolute inset-0 bg-gradient-radial"></div>
    <div class="relative text-center max-w-6xl mx-auto">
        <h1 class="font-clarendon title-responsive font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-temple-accent via-temple-accent-dark to-temple-success animate-gradient text-glow">
            TEMPLE OF THE BLUE DJEDI
        </h1>
        <p class="text-responsive text-gray-300 mb-8 max-w-4xl mx-auto">
            You are loved, you are beautiful, and you are more POWERFUL than you know.
        </p>
        <a href="https://chat.bluedjedi.com" 
           class="inline-flex items-center gap-3 btn-primary text-lg">
            <span>ðŸ’¬</span>
            <span>BLUE DJEDI AI</span>
        </a>
    </div>
</section>

<!-- Main Content Grid -->
<section class="container mx-auto px-4 py-16">
    <div class="grid lg:grid-cols-2 gap-8">
        <!-- Connect Section -->
        <div class="glass-card p-8">
            <h2 class="text-2xl font-bold text-temple-accent mb-6 uppercase tracking-wide">
                Connect With Us
            </h2>
            <div class="space-y-4">
                {% set social_links = [
                    {'name': 'BLUE DJEDI FACEBOOK', 'url': 'https://www.facebook.com/profile.php?id=61577971761598'},
                    {'name': 'BLUE DJEDI TIKTOK', 'url': 'https://www.tiktok.com/@thebluedjedi'},
                    {'name': 'BLUE DJEDI X', 'url': 'https://x.com/TheBlueDjedi'},
                    {'name': 'NAMASTE UNBOTHERED FACEBOOK', 'url': 'https://www.facebook.com/profile.php?id=61577601181867'},
                    {'name': 'NAMASTAY UNBOTHERED TIKTOK', 'url': 'https://www.tiktok.com/@namastayunbothered'},
                    {'name': 'NAMASTAY UNBOTHERED INSTAGRAM', 'url': 'https://www.instagram.com/namastayunbothered/'},
                    {'name': 'NAMASTAY UNBOTHERED YOUTUBE', 'url': 'https://www.youtube.com/@NamastayUnbothered'}
                ] %}
                
                {% for link in social_links %}
                <a href="{{ link.url }}" 
                   target="_blank"
                   class="block p-3 rounded-lg border border-temple-accent/20 hover:border-temple-accent/50 hover:bg-white/5 transition-all duration-200">
                    <span class="text-temple-accent font-medium">{{ link.name }}</span>
                </a>
                {% endfor %}
            </div>
        </div>
        
        <!-- Contact Form Section -->
        <div class="glass-card p-8" id="contact">
            <h2 class="text-2xl font-bold text-temple-accent mb-6 uppercase tracking-wide">
                Send a Message
            </h2>
            
            <!-- Message Container -->
            <div id="messageContainer"></div>
            
            <form id="contactForm" class="space-y-6">
                <div>
                    <label for="name" class="form-label">
                        Name (Optional)
                    </label>
                    <input type="text" 
                           id="name" 
                           name="name" 
                           placeholder="Your name"
                           class="form-input">
                </div>
                
                <div>
                    <label for="email" class="form-label">
                        Email (Optional)
                    </label>
                    <input type="email" 
                           id="email" 
                           name="email" 
                           placeholder="your.email@example.com"
                           class="form-input">
                </div>
                
                <div>
                    <label for="message" class="form-label">
                        Message <span class="text-temple-accent">*</span>
                    </label>
                    <textarea id="message" 
                              name="message" 
                              rows="5"
                              placeholder="Share your thoughts..."
                              required
                              class="form-input resize-none"></textarea>
                </div>
                
                <button type="submit" 
                        class="w-full btn-primary uppercase tracking-wider"
                        id="submitBtn">
                    Send Message
                </button>
            </form>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const submitBtn = document.getElementById('submitBtn');
    const messageContainer = document.getElementById('messageContainer');
    const originalBtnText = submitBtn.textContent;
    
    // Update button state
    submitBtn.disabled = true;
    submitBtn.textContent = 'SENDING...';
    
    // Clear previous messages
    messageContainer.innerHTML = '';
    
    try {
        const formData = new FormData(this);
        const response = await fetch('/contact', {
            method: 'POST',
            body: formData
        });
        
        const result = await response.json();
        
        if (result.status === 'success') {
            messageContainer.innerHTML = `
                <div class="mb-4 p-4 bg-temple-success/20 border border-temple-success/50 rounded-lg">
                    <p class="text-temple-success font-medium">${result.message}</p>
                </div>
            `;
            this.reset();
        } else {
            throw new Error(result.message || 'Failed to send message');
        }
        
    } catch (error) {
        messageContainer.innerHTML = `
            <div class="mb-4 p-4 bg-temple-error/20 border border-temple-error/50 rounded-lg">
                <p class="text-temple-error font-medium">Error: ${error.message}</p>
            </div>
        `;
    } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = originalBtnText;
    }
});
</script>
{% endblock %}
